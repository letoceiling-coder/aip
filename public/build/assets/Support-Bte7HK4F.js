<<<<<<<< HEAD:public/build/assets/Support-mKlyqrVY.js
import{_ as R,c as r,a as t,b as g,d as h,I as H,v as S,t as i,F as T,q as P,w as V,r as c,k as G,i as J,j as B,h as K,o as n,p as D,f as O,e as Q}from"./admin-DCJvkpO1.js";import{S as M}from"./sweetalert2.esm.all-C0u8rGqG.js";import{S as W}from"./StatusBadge-Dt_HMt9s.js";const X={name:"Support",components:{StatusBadge:W},setup(){const x=J(),a=c(!1),f=c(null),e=c([]),y=c(null),_=c(!1),p=c(!1),o=c({search:"",status:""}),u=c(1),j=c(20),k=c(null),m=c({theme:"",message:"",attachments:[]}),F=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}),b=async(s=1)=>{a.value=!0,f.value=null;try{const l=new URLSearchParams;l.append("page",s),l.append("per_page",j.value),o.value.status&&l.append("status",o.value.status);const d=await B.get(`/api/v1/support/tickets?${l.toString()}`,{headers:F()});d.data.success&&(e.value=d.data.data.data||[],y.value={current_page:d.data.data.current_page,last_page:d.data.data.last_page,from:d.data.data.from,to:d.data.data.to,total:d.data.data.total})}catch(l){f.value=l.response?.data?.message||"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ Ñ‚Ð¸ÐºÐµÑ‚Ð¾Ð²",console.error("Error fetching tickets:",l)}finally{a.value=!1}},A=()=>{u.value=1,b(1)},U=()=>{k.value&&clearTimeout(k.value),k.value=setTimeout(()=>{u.value=1,b(1)},500)},z=s=>{u.value=s,b(s)},q=(s,l)=>{const d=[];let v=Math.max(1,s-Math.floor(2.5)),w=Math.min(l,v+5-1);w-v<4&&(v=Math.max(1,w-5+1));for(let C=v;C<=w;C++)d.push(C);return d},E=s=>s?new Date(s).toLocaleString("ru-RU"):"",I=s=>{const l=Array.from(s.target.files);m.value.attachments=l},L=s=>{m.value.attachments.splice(s,1)},N=async()=>{p.value=!0;try{const s=new FormData;s.append("theme",m.value.theme),s.append("message",m.value.message),m.value.attachments.forEach(d=>{s.append("attachments[]",d)});const l=await B.post("/api/v1/support/ticket",s,{headers:{...F(),"Content-Type":"multipart/form-data"}});l.data.success?(M.fire("Ð£ÑÐ¿ÐµÑ…","Ð¢Ð¸ÐºÐµÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½","success"),_.value=!1,m.value={theme:"",message:"",attachments:[]},b()):M.fire("ÐžÑˆÐ¸Ð±ÐºÐ°",l.data.message||"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸ÐºÐµÑ‚","error")}catch(s){M.fire("ÐžÑˆÐ¸Ð±ÐºÐ°",s.response?.data?.message||"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸ÐºÐµÑ‚","error")}finally{p.value=!1}};return G(()=>{b()}),{router:x,loading:a,error:f,tickets:e,pagination:y,showCreateModal:_,creating:p,filters:o,newTicket:m,fetchTickets:b,handleFilterChange:A,handleSearch:U,handlePageChange:z,getPageNumbers:q,formatDate:E,handleFileSelect:I,removeAttachment:L,createTicket:N}}},Y={class:"support-page space-y-6"},Z={class:"flex items-center justify-between"},$={class:"bg-card rounded-lg border border-border p-4"},ee={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},te={class:"md:col-span-2"},ae={class:"relative"},oe={key:0,class:"flex items-center justify-center py-12"},se={key:1,class:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg"},re={class:"text-destructive"},ne={key:2,class:"space-y-3"},le=["onClick"],de={class:"flex items-start justify-between gap-4"},ie={class:"flex-1 min-w-0"},ce={class:"flex items-center gap-2 mb-2"},ge={class:"font-semibold text-foreground"},ue={class:"text-sm text-muted-foreground mb-2"},me={key:0},be={class:"flex items-center gap-4 text-xs text-muted-foreground"},pe={key:0},fe={key:3,class:"bg-card rounded-lg border border-border p-12 text-center"},ve={key:4,class:"flex flex-col sm:flex-row items-center justify-between pt-6 border-t border-border gap-4"},he={class:"text-sm text-muted-foreground"},xe={class:"flex gap-2 items-center"},ye=["disabled"],_e={class:"flex gap-1"},ke=["onClick"],we=["disabled"],Ce={class:"bg-card rounded-lg border border-border p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Se={class:"space-y-4"},Te={key:0,class:"mt-2 space-y-1"},Pe=["onClick"],Me={class:"flex gap-3 mt-6"},je=["disabled"];function Fe(x,a,f,e,y,_){const p=K("StatusBadge");return n(),r("div",Y,[t("div",Z,[a[13]||(a[13]=t("div",null,[t("h1",{class:"text-3xl font-semibold text-foreground"},"ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°"),t("p",{class:"text-muted-foreground mt-1"},"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ‚Ð¸ÐºÐµÑ‚Ð°Ð¼Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸")],-1)),t("button",{onClick:a[0]||(a[0]=o=>e.showCreateModal=!0),class:"px-4 py-2 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors"}," + Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸ÐºÐµÑ‚ ")]),t("div",$,[t("div",ee,[t("div",null,[h(t("select",{"onUpdate:modelValue":a[1]||(a[1]=o=>e.filters.status=o),onChange:a[2]||(a[2]=(...o)=>e.handleFilterChange&&e.handleFilterChange(...o)),class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},[...a[14]||(a[14]=[t("option",{value:""},"Ð’ÑÐµ ÑÑ‚Ð°Ñ‚ÑƒÑÑ‹",-1),t("option",{value:"open"},"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚",-1),t("option",{value:"in_progress"},"Ð’ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ",-1),t("option",{value:"closed"},"Ð—Ð°ÐºÑ€Ñ‹Ñ‚",-1)])],544),[[H,e.filters.status]])]),t("div",te,[t("div",ae,[a[15]||(a[15]=t("span",{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"},"ðŸ”",-1)),h(t("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=o=>e.filters.search=o),onInput:a[4]||(a[4]=(...o)=>e.handleSearch&&e.handleSearch(...o)),placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ñ‚ÐµÐ¼Ðµ...",class:"w-full h-10 pl-9 pr-3 border border-border rounded bg-background text-sm"},null,544),[[S,e.filters.search]])])])])]),e.loading?(n(),r("div",oe,[...a[16]||(a[16]=[t("p",{class:"text-muted-foreground"},"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ‚Ð¸ÐºÐµÑ‚Ð¾Ð²...",-1)])])):g("",!0),e.error?(n(),r("div",se,[t("p",re,i(e.error),1)])):g("",!0),!e.loading&&e.tickets.length>0?(n(),r("div",ne,[(n(!0),r(T,null,P(e.tickets,o=>(n(),r("div",{key:o.id,onClick:u=>x.$router.push({name:"admin.support.ticket",params:{id:o.id}}),class:D(["bg-card rounded-lg border p-4 cursor-pointer transition-colors hover:border-accent","border-border"])},[t("div",de,[t("div",ie,[t("div",ce,[t("h3",ge,i(o.subject||o.theme),1),O(p,{status:o.status},null,8,["status"])]),t("p",ue,[Q(i(o.messages?.[0]?.body||o.messages?.[0]?.message||"ÐÐµÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹")+" ",1),o.messages?.[0]?.body||o.messages?.[0]?.message?(n(),r("span",me,i((o.messages[0].body||o.messages[0].message).length>100?"...":""),1)):g("",!0)]),t("div",be,[t("span",null,"Ð¡Ð¾Ð·Ð´Ð°Ð½: "+i(e.formatDate(o.created_at)),1),o.messages?.length?(n(),r("span",pe," Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹: "+i(o.messages.length),1)):g("",!0)])])])],8,le))),128))])):g("",!0),!e.loading&&e.tickets.length===0?(n(),r("div",fe,[...a[17]||(a[17]=[t("p",{class:"text-muted-foreground"},"Ð¢Ð¸ÐºÐµÑ‚Ñ‹ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹",-1)])])):g("",!0),e.pagination&&e.pagination.last_page>1?(n(),r("div",ve,[t("div",he,[t("span",null," ÐŸÐ¾ÐºÐ°Ð·Ð°Ð½Ð¾ "+i(e.pagination.from)+"-"+i(e.pagination.to)+" Ð¸Ð· "+i(e.pagination.total),1)]),t("div",xe,[t("button",{onClick:a[5]||(a[5]=o=>e.handlePageChange(e.pagination.current_page-1)),disabled:e.pagination.current_page===1,class:"px-3 py-2 rounded-md border border-border bg-background hover:bg-accent/10 disabled:opacity-50 disabled:cursor-not-allowed text-sm transition-colors"}," â† ÐÐ°Ð·Ð°Ð´ ",8,ye),t("div",_e,[(n(!0),r(T,null,P(e.getPageNumbers(e.pagination.current_page,e.pagination.last_page),o=>(n(),r("button",{key:o,onClick:u=>e.handlePageChange(o),class:D(["px-3 py-2 rounded-md border text-sm transition-colors min-w-[40px]",o===e.pagination.current_page?"bg-accent text-accent-foreground border-accent font-semibold":"border-border bg-background hover:bg-accent/10"])},i(o),11,ke))),128))]),t("button",{onClick:a[6]||(a[6]=o=>e.handlePageChange(e.pagination.current_page+1)),disabled:e.pagination.current_page===e.pagination.last_page,class:"px-3 py-2 rounded-md border border-border bg-background hover:bg-accent/10 disabled:opacity-50 disabled:cursor-not-allowed text-sm transition-colors"}," Ð’Ð¿ÐµÑ€ÐµÐ´ â†’ ",8,we)])])):g("",!0),e.showCreateModal?(n(),r("div",{key:5,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:a[12]||(a[12]=V(o=>e.showCreateModal=!1,["self"]))},[t("div",Ce,[a[21]||(a[21]=t("h2",{class:"text-2xl font-semibold mb-4"},"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸ÐºÐµÑ‚",-1)),t("form",{onSubmit:a[11]||(a[11]=V((...o)=>e.createTicket&&e.createTicket(...o),["prevent"]))},[t("div",Se,[t("div",null,[a[18]||(a[18]=t("label",{class:"block text-sm font-medium mb-2"},"Ð¢ÐµÐ¼Ð°",-1)),h(t("input",{"onUpdate:modelValue":a[7]||(a[7]=o=>e.newTicket.theme=o),type:"text",required:"",class:"w-full h-10 px-3 border border-border rounded bg-background",placeholder:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚ÐµÐ¼Ñƒ Ñ‚Ð¸ÐºÐµÑ‚Ð°"},null,512),[[S,e.newTicket.theme]])]),t("div",null,[a[19]||(a[19]=t("label",{class:"block text-sm font-medium mb-2"},"Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",-1)),h(t("textarea",{"onUpdate:modelValue":a[8]||(a[8]=o=>e.newTicket.message=o),required:"",rows:"5",class:"w-full px-3 py-2 border border-border rounded bg-background resize-none",placeholder:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ"},null,512),[[S,e.newTicket.message]])]),t("div",null,[a[20]||(a[20]=t("label",{class:"block text-sm font-medium mb-2"},"Ð’Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ",-1)),t("input",{type:"file",onChange:a[9]||(a[9]=(...o)=>e.handleFileSelect&&e.handleFileSelect(...o)),multiple:"",accept:"image/*,.pdf,.doc,.docx,.txt",class:"w-full h-10 px-3 border border-border rounded bg-background"},null,32),e.newTicket.attachments.length>0?(n(),r("div",Te,[(n(!0),r(T,null,P(e.newTicket.attachments,(o,u)=>(n(),r("div",{key:u,class:"text-sm text-muted-foreground flex items-center justify-between"},[t("span",null,i(o.name),1),t("button",{type:"button",onClick:j=>e.removeAttachment(u),class:"text-destructive hover:text-destructive/80"}," âœ• ",8,Pe)]))),128))])):g("",!0)])]),t("div",Me,[t("button",{type:"submit",disabled:e.creating,class:"px-4 py-2 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 disabled:opacity-50 transition-colors"},i(e.creating?"Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ...":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ"),9,je),t("button",{type:"button",onClick:a[10]||(a[10]=o=>e.showCreateModal=!1),class:"px-4 py-2 border border-border rounded-lg hover:bg-accent/10 transition-colors"}," ÐžÑ‚Ð¼ÐµÐ½Ð° ")])],32)])])):g("",!0)])}const Ue=R(X,[["render",Fe]]);export{Ue as default};
========
import{_ as R,c as r,a as t,b as g,d as h,I as H,v as S,t as i,F as T,q as P,w as V,r as c,k as G,i as J,j as B,h as K,o as n,p as D,f as O,e as Q}from"./admin-BcPiGG0W.js";import{S as M}from"./sweetalert2.esm.all-C0u8rGqG.js";import{S as W}from"./StatusBadge-Cft5Gbcs.js";const X={name:"Support",components:{StatusBadge:W},setup(){const x=J(),a=c(!1),f=c(null),e=c([]),y=c(null),_=c(!1),p=c(!1),o=c({search:"",status:""}),u=c(1),j=c(20),k=c(null),m=c({theme:"",message:"",attachments:[]}),F=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}),b=async(s=1)=>{a.value=!0,f.value=null;try{const l=new URLSearchParams;l.append("page",s),l.append("per_page",j.value),o.value.status&&l.append("status",o.value.status);const d=await B.get(`/api/v1/support/tickets?${l.toString()}`,{headers:F()});d.data.success&&(e.value=d.data.data.data||[],y.value={current_page:d.data.data.current_page,last_page:d.data.data.last_page,from:d.data.data.from,to:d.data.data.to,total:d.data.data.total})}catch(l){f.value=l.response?.data?.message||"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ Ñ‚Ð¸ÐºÐµÑ‚Ð¾Ð²",console.error("Error fetching tickets:",l)}finally{a.value=!1}},A=()=>{u.value=1,b(1)},U=()=>{k.value&&clearTimeout(k.value),k.value=setTimeout(()=>{u.value=1,b(1)},500)},z=s=>{u.value=s,b(s)},q=(s,l)=>{const d=[];let v=Math.max(1,s-Math.floor(2.5)),w=Math.min(l,v+5-1);w-v<4&&(v=Math.max(1,w-5+1));for(let C=v;C<=w;C++)d.push(C);return d},E=s=>s?new Date(s).toLocaleString("ru-RU"):"",I=s=>{const l=Array.from(s.target.files);m.value.attachments=l},L=s=>{m.value.attachments.splice(s,1)},N=async()=>{p.value=!0;try{const s=new FormData;s.append("theme",m.value.theme),s.append("message",m.value.message),m.value.attachments.forEach(d=>{s.append("attachments[]",d)});const l=await B.post("/api/v1/support/ticket",s,{headers:{...F(),"Content-Type":"multipart/form-data"}});l.data.success?(M.fire("Ð£ÑÐ¿ÐµÑ…","Ð¢Ð¸ÐºÐµÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½","success"),_.value=!1,m.value={theme:"",message:"",attachments:[]},b()):M.fire("ÐžÑˆÐ¸Ð±ÐºÐ°",l.data.message||"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸ÐºÐµÑ‚","error")}catch(s){M.fire("ÐžÑˆÐ¸Ð±ÐºÐ°",s.response?.data?.message||"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸ÐºÐµÑ‚","error")}finally{p.value=!1}};return G(()=>{b()}),{router:x,loading:a,error:f,tickets:e,pagination:y,showCreateModal:_,creating:p,filters:o,newTicket:m,fetchTickets:b,handleFilterChange:A,handleSearch:U,handlePageChange:z,getPageNumbers:q,formatDate:E,handleFileSelect:I,removeAttachment:L,createTicket:N}}},Y={class:"support-page space-y-6"},Z={class:"flex items-center justify-between"},$={class:"bg-card rounded-lg border border-border p-4"},ee={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},te={class:"md:col-span-2"},ae={class:"relative"},oe={key:0,class:"flex items-center justify-center py-12"},se={key:1,class:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg"},re={class:"text-destructive"},ne={key:2,class:"space-y-3"},le=["onClick"],de={class:"flex items-start justify-between gap-4"},ie={class:"flex-1 min-w-0"},ce={class:"flex items-center gap-2 mb-2"},ge={class:"font-semibold text-foreground"},ue={class:"text-sm text-muted-foreground mb-2"},me={key:0},be={class:"flex items-center gap-4 text-xs text-muted-foreground"},pe={key:0},fe={key:3,class:"bg-card rounded-lg border border-border p-12 text-center"},ve={key:4,class:"flex flex-col sm:flex-row items-center justify-between pt-6 border-t border-border gap-4"},he={class:"text-sm text-muted-foreground"},xe={class:"flex gap-2 items-center"},ye=["disabled"],_e={class:"flex gap-1"},ke=["onClick"],we=["disabled"],Ce={class:"bg-card rounded-lg border border-border p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Se={class:"space-y-4"},Te={key:0,class:"mt-2 space-y-1"},Pe=["onClick"],Me={class:"flex gap-3 mt-6"},je=["disabled"];function Fe(x,a,f,e,y,_){const p=K("StatusBadge");return n(),r("div",Y,[t("div",Z,[a[13]||(a[13]=t("div",null,[t("h1",{class:"text-3xl font-semibold text-foreground"},"ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°"),t("p",{class:"text-muted-foreground mt-1"},"Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ‚Ð¸ÐºÐµÑ‚Ð°Ð¼Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸")],-1)),t("button",{onClick:a[0]||(a[0]=o=>e.showCreateModal=!0),class:"px-4 py-2 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors"}," + Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸ÐºÐµÑ‚ ")]),t("div",$,[t("div",ee,[t("div",null,[h(t("select",{"onUpdate:modelValue":a[1]||(a[1]=o=>e.filters.status=o),onChange:a[2]||(a[2]=(...o)=>e.handleFilterChange&&e.handleFilterChange(...o)),class:"w-full h-10 px-3 border border-border rounded bg-background text-sm"},[...a[14]||(a[14]=[t("option",{value:""},"Ð’ÑÐµ ÑÑ‚Ð°Ñ‚ÑƒÑÑ‹",-1),t("option",{value:"open"},"ÐžÑ‚ÐºÑ€Ñ‹Ñ‚",-1),t("option",{value:"in_progress"},"Ð’ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ",-1),t("option",{value:"closed"},"Ð—Ð°ÐºÑ€Ñ‹Ñ‚",-1)])],544),[[H,e.filters.status]])]),t("div",te,[t("div",ae,[a[15]||(a[15]=t("span",{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"},"ðŸ”",-1)),h(t("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=o=>e.filters.search=o),onInput:a[4]||(a[4]=(...o)=>e.handleSearch&&e.handleSearch(...o)),placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ñ‚ÐµÐ¼Ðµ...",class:"w-full h-10 pl-9 pr-3 border border-border rounded bg-background text-sm"},null,544),[[S,e.filters.search]])])])])]),e.loading?(n(),r("div",oe,[...a[16]||(a[16]=[t("p",{class:"text-muted-foreground"},"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ‚Ð¸ÐºÐµÑ‚Ð¾Ð²...",-1)])])):g("",!0),e.error?(n(),r("div",se,[t("p",re,i(e.error),1)])):g("",!0),!e.loading&&e.tickets.length>0?(n(),r("div",ne,[(n(!0),r(T,null,P(e.tickets,o=>(n(),r("div",{key:o.id,onClick:u=>x.$router.push({name:"admin.support.ticket",params:{id:o.id}}),class:D(["bg-card rounded-lg border p-4 cursor-pointer transition-colors hover:border-accent","border-border"])},[t("div",de,[t("div",ie,[t("div",ce,[t("h3",ge,i(o.subject||o.theme),1),O(p,{status:o.status},null,8,["status"])]),t("p",ue,[Q(i(o.messages?.[0]?.body||o.messages?.[0]?.message||"ÐÐµÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹")+" ",1),o.messages?.[0]?.body||o.messages?.[0]?.message?(n(),r("span",me,i((o.messages[0].body||o.messages[0].message).length>100?"...":""),1)):g("",!0)]),t("div",be,[t("span",null,"Ð¡Ð¾Ð·Ð´Ð°Ð½: "+i(e.formatDate(o.created_at)),1),o.messages?.length?(n(),r("span",pe," Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹: "+i(o.messages.length),1)):g("",!0)])])])],8,le))),128))])):g("",!0),!e.loading&&e.tickets.length===0?(n(),r("div",fe,[...a[17]||(a[17]=[t("p",{class:"text-muted-foreground"},"Ð¢Ð¸ÐºÐµÑ‚Ñ‹ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹",-1)])])):g("",!0),e.pagination&&e.pagination.last_page>1?(n(),r("div",ve,[t("div",he,[t("span",null," ÐŸÐ¾ÐºÐ°Ð·Ð°Ð½Ð¾ "+i(e.pagination.from)+"-"+i(e.pagination.to)+" Ð¸Ð· "+i(e.pagination.total),1)]),t("div",xe,[t("button",{onClick:a[5]||(a[5]=o=>e.handlePageChange(e.pagination.current_page-1)),disabled:e.pagination.current_page===1,class:"px-3 py-2 rounded-md border border-border bg-background hover:bg-accent/10 disabled:opacity-50 disabled:cursor-not-allowed text-sm transition-colors"}," â† ÐÐ°Ð·Ð°Ð´ ",8,ye),t("div",_e,[(n(!0),r(T,null,P(e.getPageNumbers(e.pagination.current_page,e.pagination.last_page),o=>(n(),r("button",{key:o,onClick:u=>e.handlePageChange(o),class:D(["px-3 py-2 rounded-md border text-sm transition-colors min-w-[40px]",o===e.pagination.current_page?"bg-accent text-accent-foreground border-accent font-semibold":"border-border bg-background hover:bg-accent/10"])},i(o),11,ke))),128))]),t("button",{onClick:a[6]||(a[6]=o=>e.handlePageChange(e.pagination.current_page+1)),disabled:e.pagination.current_page===e.pagination.last_page,class:"px-3 py-2 rounded-md border border-border bg-background hover:bg-accent/10 disabled:opacity-50 disabled:cursor-not-allowed text-sm transition-colors"}," Ð’Ð¿ÐµÑ€ÐµÐ´ â†’ ",8,we)])])):g("",!0),e.showCreateModal?(n(),r("div",{key:5,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:a[12]||(a[12]=V(o=>e.showCreateModal=!1,["self"]))},[t("div",Ce,[a[21]||(a[21]=t("h2",{class:"text-2xl font-semibold mb-4"},"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸ÐºÐµÑ‚",-1)),t("form",{onSubmit:a[11]||(a[11]=V((...o)=>e.createTicket&&e.createTicket(...o),["prevent"]))},[t("div",Se,[t("div",null,[a[18]||(a[18]=t("label",{class:"block text-sm font-medium mb-2"},"Ð¢ÐµÐ¼Ð°",-1)),h(t("input",{"onUpdate:modelValue":a[7]||(a[7]=o=>e.newTicket.theme=o),type:"text",required:"",class:"w-full h-10 px-3 border border-border rounded bg-background",placeholder:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚ÐµÐ¼Ñƒ Ñ‚Ð¸ÐºÐµÑ‚Ð°"},null,512),[[S,e.newTicket.theme]])]),t("div",null,[a[19]||(a[19]=t("label",{class:"block text-sm font-medium mb-2"},"Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",-1)),h(t("textarea",{"onUpdate:modelValue":a[8]||(a[8]=o=>e.newTicket.message=o),required:"",rows:"5",class:"w-full px-3 py-2 border border-border rounded bg-background resize-none",placeholder:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ"},null,512),[[S,e.newTicket.message]])]),t("div",null,[a[20]||(a[20]=t("label",{class:"block text-sm font-medium mb-2"},"Ð’Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ",-1)),t("input",{type:"file",onChange:a[9]||(a[9]=(...o)=>e.handleFileSelect&&e.handleFileSelect(...o)),multiple:"",accept:"image/*,.pdf,.doc,.docx,.txt",class:"w-full h-10 px-3 border border-border rounded bg-background"},null,32),e.newTicket.attachments.length>0?(n(),r("div",Te,[(n(!0),r(T,null,P(e.newTicket.attachments,(o,u)=>(n(),r("div",{key:u,class:"text-sm text-muted-foreground flex items-center justify-between"},[t("span",null,i(o.name),1),t("button",{type:"button",onClick:j=>e.removeAttachment(u),class:"text-destructive hover:text-destructive/80"}," âœ• ",8,Pe)]))),128))])):g("",!0)])]),t("div",Me,[t("button",{type:"submit",disabled:e.creating,class:"px-4 py-2 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 disabled:opacity-50 transition-colors"},i(e.creating?"Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ...":"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ"),9,je),t("button",{type:"button",onClick:a[10]||(a[10]=o=>e.showCreateModal=!1),class:"px-4 py-2 border border-border rounded-lg hover:bg-accent/10 transition-colors"}," ÐžÑ‚Ð¼ÐµÐ½Ð° ")])],32)])])):g("",!0)])}const Ue=R(X,[["render",Fe]]);export{Ue as default};
>>>>>>>> db2aa9ad00a3432033779aedb7501b6a1078aac7:public/build/assets/Support-Bte7HK4F.js
